
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Unlocking and Jailbreaking My iPhone 3gs on 4.1.2 - a Little Late - Oh, The Huge Manatee</title>
  <meta name="author" content="Campbell Vertesi (ohthehugemanatee)">

  
  <meta name="description" content="While I was away over the weekend, I borked my iphone. &nbsp;I was running IOS 4.0, and I was having trouble with network connections.The statusbar &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ohthehugemanatee.org/2010/12/unlocking-and-jailbreaking-my-iphone.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Oh, The Huge Manatee" type="application/atom+xml">
  <link href="/stylesheets/table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="/stylesheets/fonts/prstartk/stylesheet.css" type="text/css" charset="utf-8" />








<meta name="author" content="Campbell Vertesi (ohthehugemanatee)">

<meta property="og:url" content="http://ohthehugemanatee.org/2010/12/unlocking-and-jailbreaking-my-iphone.html" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Unlocking and Jailbreaking My iPhone 3gs on 4.1.2 - a Little Late - Oh, The Huge Manatee" />
<meta property="og:description" content="A blog about technology, open source, and the web... from someone who works with all three." />
<!--
  <meta property="og:image" content="http://ohthehugemanatee.org/images/headshot.jpg" /> -->

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46172182-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
<a href="/" style="float:right"><img  src="/images/oh_the_huge_manatee.png" /></a><div class="titles"><h1><a href="/">Oh, The Huge Manatee</a></h1>
  
    <h2>A blog about technology, open source, and the web... from someone who works with all three.</h2>
  
</div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.duckduckgo.com/" method="get">
  <fieldset role="search">
    <input type="hidden" name="sites" value="ohthehugemanatee.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search&hellip;"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about-me.html">Me</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Unlocking and Jailbreaking My iPhone 3gs on 4.1.2 - a Little Late</h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2010-12-18T02:02:00+01:00" pubdate data-updated="true">Dec 18<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content">
<div class="css-full-post-content js-full-post-content">
While I was away over the weekend, I borked my iphone. &nbsp;I was running IOS 4.0, and I was having trouble with network connections.<br /><ul><li>The statusbar wouldn&#8217;t reflect my actual connection status. &nbsp;WiFi connections would rarely show up in the statusbar, though I knew I was surfing wirelessly (my router at 10.10.10.1 was accessible to the phone, for starters&#8230;)</li><li>WiFi would periodically crash. &nbsp;In the middle of a good network connection, it would just. stop. working. &nbsp;I could go to System Preferences and see that WiFi was inexplicably disabled. &nbsp;If I tried to enable it, the switch animation would work, but no networks would be visible. &nbsp;Exiting and re-entering System Preferences would show WiFi disabled again.</li><li>Periodically all networking would crap out. &nbsp;The statusbar would show a good 3G connection, and ifconfig would show an IP&#8230; but the phone couldn&#8217;t establish any connections, anywhere. &nbsp;</li></ul><div>Only rebooting ever solved any of the above problems. &nbsp;So this weekend I started to look into it, and it occurred to me that maybe SBSettings was interfering with networking - I periodically disable or enable Wifi in SBSettings, and it occurred to me that maybe there was a conflict there. &nbsp;So I uninstalled SBSettings, (noting that it unnecessarily included iphone zsrelay in the uninstall)&#8230;</div><div><br /></div><div>And my phone stopped getting signal. &nbsp;I had never seen anything like it before. &nbsp;It didn&#8217;t show an operator, just 0 signal bars. &nbsp;It could get wifi, but couldn&#8217;t access the Internet over it. &nbsp;In retrospect, I think the SBSettings uninstall borked my yellowsn0w unlock, and at the same time my networking subsystem in general wasn&#8217;t working. &nbsp;</div><div><br /></div><div>The solution was clear - I had to reinstall. &nbsp;I figured I would do an update at the same time, just in case the networking issue was related. &nbsp;So I spent this evening painfully updating to 4.1.2. &nbsp;For anyone who encounters the same kind of pain I did:</div><div><br /></div><div><ul><li>Don&#8217;t bother with the latest Apple firmware. &nbsp;Firmware 4.2.1 is not easily crackable for the iphone 3gs yet, and besides, <a href="http://www.iclarified.com/entry/index.php?enid=12944">the most common way</a> to crack is to install the baseband from the iPad (06.15), which brings&nbsp;all sorts of problems, including broken GPS and disappearing battery charge&#8230;. deal breakers for most people IMO. &nbsp;</li><li>But when you try to install a non-current version of the firmware, iTunes won&#8217;t let you! &nbsp;It phones home to the iTunes update servers to make sure that you are restoring to the most recent version. &nbsp;If it hears back that there is a MORE RECENT version than what you are trying to use, it will throw a message:</li></ul><blockquote><i>This device is not eligible for the requested build</i></blockquote><ul><li>If you use the older hack, and change your /etc/hosts so that gs.apple.com points to 127.0.0.1 (your own computer), it will complain that the update server is not responding, and refuse to go forward. &nbsp;This check involves an exchange of an encrypted key, which uses your unique iPhone&#8217;s ID as one variable and Apple&#8217;s passphrase as another. &nbsp;<a href="http://www.saurik.com/id/12">Saurik (of Cydia fame) set up a server</a>&nbsp;(note: really awesome post, recommended reading) to keep a backup of examples of successful SHSH key &#8220;handshakes&#8221; for each device, so you have to use the IP of this server instead.<br /></li></ul><br /></div>So here are the steps I had to follow, for reference:<br /><br /><ol><li>Download the 4.1.2 .ipsw for your iphone. &nbsp;I found it on binsearch by searching iPhone2,1_4.1_8B117_Restore.ipsw .</li><li>Download PwnageTool - get it from the torrent or the links on the official <a href="http://blog.iphone-dev.org/">devteam blog</a> site only! Everyone else is at best a scammer, or at worst a hack stealing the product of devteam&#8217;s hard work.</li><li>Use <a href="http://blog.iphone-dev.org/post/1359246784/20102010-event">pwnagetool</a> to build yourself a custom version of the 4.1.2 firmware you just downloaded.</li><li>To foil Apple&#8217;s update server check, add a line to etc/hosts pointing gs.apple.com to&nbsp;74.208.10.249 , Saurik&#8217;s SHSH backup IP as of this writing. <br />If you have used Cydia before (and clicked the &#8220;make my life easier&#8221; button), this will be enough to get the restore going. &nbsp;If not, even a failed check of your validity for the firmware involves a key exchange, and having this IP in /etc/hosts will make sure that the SHSH key gets uploaded to Saurik&#8217;s server. &nbsp;Give it about a day, and try again. &nbsp;Did I remember to link to Saurik&#8217;s<a href="http://www.saurik.com/id/12"> really interesting blog post</a> about this? It explains a lot. &nbsp;If that doesn&#8217;t help, try the <a href="http://thefirmwareumbrella.blogspot.com/">TinyUmbrella tool</a>.</li><li>When your custom .ipsw is written, put your iphone into DFU mode, open iTunes, and OPTION-click (for Macs) on the Restore link to select your custom firmware.</li><li>When your phone is restored and working, use Cydia to install ultrasn0w (the unlock).</li></ol>This took up MUCH to much of my evening. &nbsp;Once again, I found myself exercising creativity in swearing at computers.
</div>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Campbell Vertesi (ohthehugemanatee)</span></span>

      








  



  
<time datetime="2010-12-20T01:36:59+01:00" class="updated">Updated Dec 20<span>th</span>, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/cydia/'>cydia</a>, <a class='category' href='/blog/categories/iphone/'>iphone</a>, <a class='category' href='/blog/categories/itunes/'>itunes</a>, <a class='category' href='/blog/categories/jailbreak/'>jailbreak</a>, <a class='category' href='/blog/categories/pwnagetool/'>pwnagetool</a>, <a class='category' href='/blog/categories/ultrasn0w/'>ultrasn0w</a>, <a class='category' href='/blog/categories/unlock/'>unlock</a>, <a class='category' href='/blog/categories/update/'>update</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://ohthehugemanatee.org/2010/12/unlocking-and-jailbreaking-my-iphone.html" data-via="campbellvertesi" data-counturl="http://ohthehugemanatee.org/2010/12/unlocking-and-jailbreaking-my-iphone.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/2010/12/i-baked-computer-and-it-worked.html" title="Next Post: I baked a computer (and it worked!)">I baked a computer (and it worked!) &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
<img src="/images/headshot.jpg" alt="Campbell Vertesi profile picture" />
<h1>About</h1>
<p>My name is <a href="https://campbell.vertesi.com/" title="Campbell Vertesi">Campbell Vertesi</a>. I work  with <a href="https://microsoft.com/" title="Microsoft">Microsoft</a> on cutting-edge Open Source. I'm also an <a href="https://thecastmusic.com/" title="The Cast - the opera band">opera singer</a>.</p>

<p>I've been working with computers for 21 years, with PHP and Drupal for 13 of those. I started with desktop repair, moved into sysadmin work, and eventually discovered web development. Since then I've been in most roles in the web consultant ecosystem: coder, themer, project manager, information architect, technical lead, CEO, and CTO. I've presented at many conferences, including almost 20 Drupalcons. <a href="/about-me.html" title="More about me">More about me</a>.</p>

<p>This is a technical blog that's partly a reference for myself, partly a pointer for all the instructions I end up writing for others, and partly a document of my technical history. I'm involved in a lot of different fields and specialties, and it's nice to have it all catalogued somewhere. I've written this blog on various platforms under different names, but this is where I'm hoping it will stay for awhile.</p>

<p>I'm not responsible for any damage caused to yourself, your family, your friends, your pets, or anything else as the result of using the information on this blog. Be smart and be careful.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2019/02/11/btrfs-free-space-emergency-response/">BTRFS and Free Space - Emergency Response</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/01/07/kubernetes-tricks-for-stateful-applications/">Kubernetes for Stateful Applications: Scaling Macroservices</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/12/27/optimizing-data-transfer-speeds/">Optimizing Data Transfer Speeds</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/04/19/face-recognition-on-drupal/">Drupal Does Face Recognition: Introducing Image Auto Tag Module</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/02/07/the-number-1-question-i-get-asked-working-at-msy-do-you-run-linux/">The #1 Question I Get Asked Working at MS: Why Do You Run Linux?</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/ohthehugemanatee">@ohthehugemanatee</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ohthehugemanatee',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section>
<a class="twitter-timeline"  href="https://twitter.com/campbellvertesi"  data-widget-id="407927984901746688">Tweets by @campbellvertesi</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

    </section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2019 - Campbell Vertesi (ohthehugemanatee) -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ohthehugemanatee';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://ohthehugemanatee.org/2010/12/unlocking-and-jailbreaking-my-iphone.html';
        var disqus_url = 'http://ohthehugemanatee.org/2010/12/unlocking-and-jailbreaking-my-iphone.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
