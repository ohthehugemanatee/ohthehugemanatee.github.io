
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Oh The Huge Manatee</title>
  <meta name="author" content="Campbell Vertesi (ohthehugemanatee)">

  
  <meta name="description" content="Now a quickie - one of my favorite tools: awk. &nbsp;Some of you will probably think of this as obvious, and that&#8217;s great. &nbsp;But tools &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ohthehugemanatee.github.io/blog/page/7">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Oh The Huge Manatee" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46172182-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Oh The Huge Manatee</a></h1>
  
    <h2>Drupal, Sysadminning, and Tech.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.duckduckgo.com/" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ohthehugemanatee.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/04/working-with-bash-awk.html">Working With Bash - Awk</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2011-04-24T12:24:00+02:00" pubdate data-updated="true">Apr 24<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content">
<div class="css-full-post-content js-full-post-content">
Now a quickie - one of my favorite tools: awk. &nbsp;Some of you will probably think of this as obvious, and that&#8217;s great. &nbsp;But tools like awk are the things that I skipped learning when I got started&#8230; and when I finally started using them, my world expanded tremendously. &nbsp;Here&#8217;s hoping I can pay it forward to one other sysadmin out there. &nbsp;So let&#8217;s get going.<br /><br /><b>Awk</b><br /><b><br /></b><br />My first handy command is <i>awk</i>&nbsp;. This command lets you set a pattern to hunt for, and then an action to take every time it finds the pattern. &nbsp;Pattern, action. &nbsp;And that&#8217;s the format on the command line:<br /><blockquote>awk pattern {action}</blockquote>If you omit the pattern, it takes the action on every line. &nbsp;It also automatically considers the input as a series of fields, and assigns them variables for you: $1 is the first field, $2 is the second, and so on. &nbsp;$0 is the whole line.<br /><br />One really common usage (and the one I was looking for today) is to just print a single column. &nbsp;In my case, I wanted to get a list of file sizes in a directory. So I used<br /><blockquote>ls -l | awk &#8216;{print $5}&#8217;</blockquote>Actions can be pretty impressive - you can use if/then, do/while, and other simple constructs. &nbsp;You can even stack awk pattern/action constructs by separating them with a semicolon.<br /><br />So now I&#8217;m on a quest to do as much as possible with this one command. I&#8217;m going to change my initial requirements: what if the directory I&#8217;m listing has subdirectories? &nbsp;I want to make sure to exclude those from my filesize list. &nbsp;So now I get to play with the &#8220;pattern&#8221; part of awk.<br /><blockquote>ls -l | awk &#8216;/^-/ {print $5}&#8217;</blockquote>Note the forward slashes which denote the text to search for. In this case it&#8217;s ^- , meaning a newline followed immediately by a -. <br /><br />Now actually, the whole point of this exercise was to get the sum total size of the files in this directory. &nbsp;So let&#8217;s make awk do that for us. &nbsp;The first thing to learn is that awk can do math. &nbsp;If you have a series of numbers on one line, you can say<br /><blockquote>awk &#8216;{ sum = $1 + $2 + $3} {print sum}&#8217;</blockquote>And end up with a sum of the 3 numbers for each line in the input. &nbsp;If you want to do math across lines, you have to use stored variables. &nbsp;It&#8217;s simple to say &#8216;{ sum = $5 }&#8217;. &nbsp;But if you want each line to add it&#8217;s $5 to &#8216;sum&#8217;, you simply use &#8216;{ sum += $5 }&#8217; . &nbsp;We could just as easily have any other operator in there, it works just as well with -= , *= , /= etc. &nbsp; Of course, in this case what we really care about is the sum of all the filesizes, so let&#8217;s update our command:<br /><blockquote>ls -l | awk &#8216;/^-/ { sum += $5 } {print sum}&#8217;</blockquote>Now for each line of the input, it will spit out whatever the current file size tally is, adding $5 to it when the regular expression ^- matches. Actually, that&#8217;s pretty unreadable, so let&#8217;s add another simple math operator in there to show this in megabytes:<br /><blockquote>ls -l | awk &#8216;/^-/ { sum += $5 / 1048576 } {print sum, &#8220;M&#8221; }&#8217;</blockquote>Don&#8217;t feel bad if you don&#8217;t have the number of bytes in a megabyte memorized - I have to run to my calculator every time for 1024 * 1024. &nbsp;I should have just included it in the expression, come to think of it&#8230;<br /><br />This is pretty sweet so far, and more than enough to get me the information I wanted. &nbsp;But let&#8217;s polish it a little more - that stupid list bothers me, since all I really care about is the last value. &nbsp;Now we&#8217;re going to take advantage of&nbsp;BEGIN and END, which tell awk to do something before the first line of the input, or after the last line, respectively. <br /><br /><blockquote>ls -l | awk &#8216;/^-/ { sum += $5 / (1024 * 1024) } END { print &#8220;This directory contains &#8220;, sum, &#8220;M of files.&#8221; }&#8217;</blockquote>Pretty sweet! &nbsp;Right there, I just saved myself a lot of swearing.
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/04/htc-inspire-cyanogenmod-7-and-hsupa.html">HTC Inspire, Cyanogenmod 7, and HSUPA</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2011-04-14T02:21:00+02:00" pubdate data-updated="true">Apr 14<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content">
<div class="css-full-post-content js-full-post-content">
About a month ago, I picked up my first Android phone: the HTC Inspire 4g, from AT&amp;T in the US. &nbsp;I determined to root it, install a custom OS, and laugh at all the poor saps who get bad battery life on HTC Sense.<br /><br />The first challenge is in the name. &nbsp;See, the HTC Inspire 4G is really just a rebranded HTC Desire HD, which is a tweaked HTC Desire, which is another name for the HTC Ace. <br /><br />I eventually got my head on straight, with the help of the good people at the <a href="http://forum.xda-developers.com/forumdisplay.php?f=1018">xda-developers forum</a>, and in particular with the <a href="http://forum.xda-developers.com/showthread.php?t=952352">Ace Hack Kit</a>&nbsp;which is linked there. &nbsp;Windows types might be interested in <a href="http://forum.xda-developers.com/showthread.php?t=961406">Bubby&#8217;s Simple Root and S-Off</a> kit, which is apparently wonderful and easy to use. &nbsp;I wouldn&#8217;t know, my PC is all the way on the other side of the room. &nbsp; I did this on my Mac, which is right in front of me.<br /><br />In a nutshell, here&#8217;s what you do:<br /><br />1) Downgrade the ROM to an older version, from the international Desire HD. &nbsp;The old DHD had a vulnerability in the radio which we&#8217;ll exploit, but otherwise it&#8217;s very similar to the stock Inspire ROM.<br /><br />2) Use the vulnerability to get root (don&#8217;t get excited, the fun stuff is all done by scripts).<br /><br />3) Use root to install the custom bootloader, which we need to make installing new ROMS easy.<br /><br />4) Upgrade the back to the stock Inspire radio firmware.<br /><br />5) Use the new custom bootloader to install the ROM of your choice. &nbsp;My choice was <a href="http://www.cyanogenmod.com/">Cyanogenmod 7</a>.<br /><br />The whole process is described well in the README that came with the Ace Hack Kit, but it&#8217;s described even BETTER and more generically in the <a href="http://wiki.cyanogenmod.com/index.php?title=HTC_Ace:_Recovery,_Radio_and_CyanogenMod">Cyanogenmod Wiki</a>. &nbsp;What a great resource - it&#8217;s even got download links for <a href="http://wiki.cyanogenmod.com/index.php?title=Support_Downloads#HTC_Ace">every radio firmware version</a> for each phone!<br /><br />Everything went smoothly&#8230; but I did this whole process after I had already left the US. &nbsp; I was actually in one of the countries where I&#8217;m on roaming, so I don&#8217;t use my cellular data&#8230; I just came back to my apartment in France, to find that cellular data is stuck on EDGE mode. &nbsp;That gets me about 1/5 of the speed available on the network, and it gets me very frustrated.<br /><br />So I stopped by my mobile provider to see if it was an issue with the plan I&#8217;m subscribed to. &nbsp;Apparently not; they were just as puzzled as I. &nbsp;I&#8217;ve pored over Cyanogen&#8217;s settings, but no luck. &nbsp;So tonight I brought out the big guns.<br /><br />First I backed everything up, like a good little boy. &nbsp;I used Titanium Backup, and boy I hope it works.<br /><br />Then I tried just re-flashing the Cyanogenmod ROM. &nbsp;Actually, I flashed an update from RC7 to the full release, using the ROM Manager program. &nbsp;No improvement.<br /><br />So I downloaded a special script to wipe ALL of the non-user directories, and ran THAT from Recovery, THEN re-installed Cyanogenmod. &nbsp;No improvement.<br /><br />Then I started really hunting around in forums. &nbsp;It seems that <a href="http://forum.xda-developers.com/showpost.php?p=12839710&amp;postcount=2976">some people have trouble</a> getting HSUPA going after this unlock process I described above. &nbsp;They have good network connectivity when they downgrade, but after upgrading back to AT&amp;T stock firmware, they get stuck on EDGE. &nbsp;So the recommended solution is to re-downgrade, then skip the AT&amp;T stock firmware, and re-upgrade to something newer/better.<br /><br />So that&#8217;s what I tried.<br /><br />Now I&#8217;m stuck in a boot loop&#8230; and when it DOES boot, I still only get EDGE. &nbsp;I&#8217;m starting to worry that the Inspire is limited to picking up US HSPDA+ frequencies, and just doesn&#8217;t &#8220;get&#8221; the EU frequencies. &nbsp;In that case, maybe I&#8217;ll have to try some of the <a href="http://forum.xda-developers.com/showthread.php?t=952582">Desire HD kernels</a> which have been hacked for Inspire hardware&#8230;<br /><br />So now I&#8217;m left - you guessed it - swearing at yet another computer.
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/03/still-more-wireless-troubleshooting.html">Still More Wireless Troubleshooting</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2011-03-24T12:19:00+01:00" pubdate data-updated="true">Mar 24<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content">
<div class="css-full-post-content js-full-post-content">
The damnedest thing happened - I went out of town. &nbsp;I went out of town, and discovered that I was STILL getting dropouts every 90 seconds! &nbsp;On a totally different router, on the opposite site of the planet, in a rural area with no conceivable wireless interference. &nbsp;This prompted me to boot into Windows 7 (I have a Boot Camp partition) to try my ping test under a totally different software stack.<br /><br />Even under Windows, every 90 seconds I would get a ping spike for a second. <br /><br />This means it&#8217;s got to be hardware, or firmware related. &nbsp;My first instinct was to go for the PRAM, which is as close as Macs get to a BIOS. &nbsp;You can reset your PRAM by holding down Command, Option, P, and R as you reboot the machine. &nbsp;When you hear the &#8220;startup sound&#8221; the second time, you know you&#8217;ve got it right. Unfortunately this didn&#8217;t help my dropouts.<br /><br />So now I&#8217;m kind of stuck. &nbsp;The firmware is up to date (Atheros 5416 2.1.14.5), the PRAM has been reset, but STILL I get dropouts every 90 seconds like clockwork&#8230; on any OS, connected to any router, with any encryption method (or none), anywhere in the world. &nbsp; The connection doesn&#8217;t drop, it just loses packets for a second.<br /><br />I&#8217;m all out of ideas. &nbsp;I&#8217;m about ready to disassemble the thing and re-seat the card, in case there&#8217;s some kind of a contact charge being built up that&#8217;s discharging every 90 seconds and causing EMI to disrupt the connection. &nbsp;And <i>that</i>&nbsp;is a hypothesis of desperation my friends. &nbsp;Desperation. &nbsp;I do have another, Atheros miniPCI card living in my mediacenter system right now, so I may also test with that. &nbsp;I have a great broadcom miniPCI card kicking around, but unfortunately OSX doesn&#8217;t have any drivers for that.<br /><br />Any suggestions?
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/01/heat-issues-on-my-xbmc-mediacenter.html">Heat Issues on My XBMC Mediacenter</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2011-01-21T21:47:00+01:00" pubdate data-updated="true">Jan 21<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content">
<div class="css-full-post-content js-full-post-content">
I run an XBMC mediacenter at home, on my old Compaq C765 laptop (the laptop I used to use as a Hackintosh, until I got a real Mac). &nbsp;I say it&#8217;s old, but it&#8217;s perfectly well powered:<br /><br /><ul><li>2.1ghz Intel Core 2 Duo</li><li>2gb RAM</li><li>Intel GMA X3100 &#8220;graphics&#8221; adapter</li></ul><div>Apart from the X3100, it&#8217;s a perfectly good little computer, and perfect for a media center. &nbsp;XBMC is super easy to install - just install Ubuntu as you normally would, and install the XBMC package using your favorite package manager (&#8220;apt-get install xbmc&#8221; will do it).</div><div><br /></div><div>What&#8217;s great about XBMC is that all the configuration is through the TV graphical interface. &nbsp;No pain in the ass backend to configure (I&#8217;m looking at YOU MythTV), it just works. &nbsp;I like that. &nbsp;</div><div><br /></div><div>The real pain in the ass though, came when I wanted to play HD movies. &nbsp;The whole point of having a mediacenter is to keep all your movies and TV shows on a hard drive, so I ripped a couple of my favorite Planet Earth episodes in HD, and gave it a shot. &nbsp;Unfortunately, Ubuntu&#8217;s built in HD video decoder (libavcodec/ffdshow/ffmpeg) requires too much power for my little mediacenter. &nbsp;I couldn&#8217;t get through the intro without seeing significant lag behind the audio,and ultimately tons of dropped frames.</div><div><br /></div><div>On Windows, the solution is simple - get a commercial HD decoder software package. &nbsp;CoreAVC has a reputation as the best in the business. &nbsp;This is partly because it&#8217;s multi-threaded, and partly just because it&#8217;s so well written! &nbsp;Most people see at least a 30% gain in their framerates with this decoder.</div><div><br /></div><div>As I mentioned though, it&#8217;s commercial. I don&#8217;t like paying for software on a gamble, so I tried downloading the 14 day trial to play with at first. &nbsp;These instructions should work with the trial&#8230; I just ran a few benchmarks on one of my other systems, and was satisfied enough to pony up the $15. &nbsp;Here are the steps I followed (For Ubuntu 9.10)</div><div><br /></div><div><ol><li>Install the tools you need to build mplayer over again, and to build coreavc-for-linux:<br /><blockquote>sudo apt-get install subversion build-essential xorg-dev pkg-config gcc-4.3 wine</blockquote>(honestly you shouldn&#8217;t need to explicitly install gcc-4.3 unless you upgraded from karmic like I did - badly)</li><li>Make a directory to work in, and download the sources you need:<br /><blockquote>mkdir ~/cursing</blockquote><blockquote>cd ~cursing</blockquote><blockquote>svn checkout svn://svn.mplayerhq.hu/mplayer/trunk mplayer</blockquote><blockquote>svn checkout http://coreavc-for-linux.googlecode.com/svn/trunk/ coreavc-for-linux&nbsp;</blockquote>Also download CoreAVC! &nbsp;As I mentioned, I only ever tried this with the registered version, but there&#8217;s no reason you shouldn&#8217;t be able to do it with the shareware version as well.&nbsp;</li><li>Install CoreAVC using WINE (you don&#8217;t run it using WINE, but you do have to install it to pull out the library!)<br /><blockquote>wine &#8220;~/Desktop/CoreAVC Professional Edition-x.x.x_Setup.exe&#8221;</blockquote>This is where you get to enter your serial number, or deal with the demo. &nbsp;The installer will work just like a windows installer, because Wine is just that badass.</li><li>Install DShowServer:<br /><blockquote>cd dshowserver/precompiled</blockquote><blockquote>make install</blockquote></li><li>Copy your freshly installed CoreAVC library into the dshowserver directory so it&#8217;s easy to find:<br /><blockquote>sudo cp &#8220;~/.wine/drive_c/Program Files/CoreCodec/CoreAVC Professional Edition/CoreAVCDecoder.ax&#8221; /usr/local/share/dshowserver&nbsp;</blockquote></li></ol>At this point you should take a break. &nbsp;Hey, that was a lot of work! &nbsp;Get a coffee, put on some music or something. &nbsp;And you can feel good about the progress you made! &nbsp;Look at that, dshowserver can find and load CoreAVC: &nbsp;</div><div><blockquote>dshowserver -c CoreAVCDecoder.ax</blockquote><blockquote><span class="Apple-style-span" style="font-family: arial, sans-serif; font-size: 13px;"><pre class="prettyprint" style="border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 3px; font-size: 12px; margin-left: 2em; padding-bottom: 0.5em; padding-left: 0.5em; padding-right: 0.5em; padding-top: 0.5em;"><span class="typ">No</span><span class="pln"> id specified</span><span class="pun">,</span><span class="pln"> assuming test mode</span><span class="typ">Opening</span><span class="pln"> device<br />len</span><span class="pun">:</span><span class="pln"> </span><span class="lit">992</span><span class="pln"><br /></span><span class="typ">ProductVersion</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2.0</span><span class="pun">.</span><span class="lit">0</span><span class="pln"><br /></span><span class="typ">Decoder</span><span class="pln"> supports the following YUV formats</span><span class="pun">:</span><span class="pln"> YUY2 UYVY YV12 I420 </span><span class="typ">Decoder</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> capable of YUV output </span><span class="pun">(</span><span class="pln">flags </span><span class="lit">0x2b</span><span class="pun">)</span><span class="pln"><br /></span><span class="typ">Setting</span><span class="pln"> fmt</span><span class="typ">Starting</span><span class="pln"><br /></span><span class="typ">Initialization</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> complete</span></pre></span></blockquote></div><div>That&#8217;s like half the battle, right there! &nbsp;</div><div><br /></div><div>Now that your legs are stretched, let&#8217;s get mplayer using this new shiny codec.</div><div><br /></div><div><ol><li>Mplayer out of the box doesn&#8217;t support dshowserver, so we have to patch the source a little:<br /><br /><blockquote>cd mplayer-source-dir&nbsp;</blockquote><blockquote>patch -p0 &lt; ../coreavc-for-linux-source-dir/mplayer/dshowserver.patch</blockquote></li><li>Compile and install mplayer from this patched source:<br /><blockquote>make &amp;&amp; make install</blockquote></li><li>Now you just have to add the new codec to your ~/.mplayer/codecs.conf and you&#8217;re away to the races! &nbsp;Add these lines to the end of codecs.conf :</li></ol><blockquote>videocodec coreserve info &#8220;CoreAVC DShow H264 decoder x.x for x86 - http://corecodec.org/&#8221;</blockquote><blockquote>&nbsp;&nbsp;status working</blockquote><blockquote>&nbsp;&nbsp;format 0x10000005</blockquote><blockquote>&nbsp;&nbsp;fourcc H264,h264 H264</blockquote><blockquote>&nbsp;&nbsp;fourcc X264,x264</blockquote><blockquote>&nbsp;&nbsp;fourcc avc1,AVC1 AVC1</blockquote><blockquote>&nbsp;&nbsp;fourcc davc,DAVC</blockquote><blockquote>&nbsp;&nbsp;fourcc VSSH</blockquote><blockquote>&nbsp;&nbsp;driver dshowserver</blockquote><blockquote>&nbsp;&nbsp;dll &#8220;CoreAVCDecoder.ax&#8221;</blockquote><blockquote>&nbsp;&nbsp;guid 0x09571a4b, 0xf1fe, 0x4c60, 0x97, 0x60, 0xde, 0x6d, 0x31, 0x0c, 0x7c, 0x31</blockquote><blockquote>&nbsp;&nbsp;out YV12,IYUV,I420,YUY2</blockquote></div><div><br />You do have to explicitly tell mplayer to use this codec on launch - use<br /><blockquote>mplayer -vc coreserve</blockquote>To get it to start. &nbsp;Have fun! &nbsp;My little lappy runs great, smooth HD video!<br /><br /></div>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/12/net-neutrality-and-steve-wozniak.html">Net Neutrality and Steve Wozniak</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2010-12-22T00:50:00+01:00" pubdate data-updated="true">Dec 22<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content">
<div class="css-full-post-content js-full-post-content">
I know no one reads this blog but me, but I may as well put this up here. &nbsp;Net Neutrality: I&#8217;m for it.<br /><br />Steve Wozniak has an excellent <a href="http://www.theatlantic.com/technology/archive/2010/12/an-open-letter-to-the-fcc-regarding-net-neutrality/68294/">Open Letter</a> up on the Atlantic about the issue. &nbsp;He takes the examples of public goods such as roadworks and compares them favorably to privately managed utilities like Cable TV and Internet. <br /><br />Personally, I think his letter is a much more effective critique of the FCC than it is a championing of the public works model of construction. &nbsp;After all, it&#8217;s the FCC that regulates the cable and telephone industries so ineffectively. &nbsp;And the very road system he proclaims as being so effective was a famous example of political favor outweighing practicality when the road system was devised in the 19th Century. <br /><br />In this case though, I think we have a free and open marketplace of ideas by explicit design in the Internet. &nbsp;It is trivially simple to create rules to preserve this. We should.
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/12/more-dd-wrt-linksys-wrt54g.html">More DD-WRT / Linksys WRT54G Troubleshooting</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2010-12-22T00:45:00+01:00" pubdate data-updated="true">Dec 22<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content">
<div class="css-full-post-content js-full-post-content">
After my evening spent <a href="http://swearingatcomputers.blogspot.com/2010/12/dd-wrt-versioning-and-linksys-wrt54g.html">getting my DD-WRT firmware to a stable version</a> (as opposed to the version recommended by the DD-WRT website), I had hoped that I had seen the end of my wireless issues.<br /><br />No such luck.<br /><br />I have definitely seen an improvement - in a ping flood test, I&#8217;m only seeing 0.5% dropped packets now, which is an improvement over the 2% I was seeing before. &nbsp;But there are still periodic ping spikes where I drop a packet, then get something like an ~1100ms ping, then ~110ms, then back to normal at ~2ms. &nbsp;I tried leaving a ping running in the background today, and every Skype audio drop was accompanied by a dropped packet. &nbsp;So I&#8217;m going with correlation = causation and assuming that these periodic spikes which are causing my Skype audio drops. <br /><br />The first thing to do is understand the nature of the beast. &nbsp;So I graphed my pings:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_Ukp9db12h9g/TRE86KWHPjI/AAAAAAAAAAQ/bdvCijKJhdA/s1600/Pings+over+time.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="467" src="http://2.bp.blogspot.com/_Ukp9db12h9g/TRE86KWHPjI/AAAAAAAAAAQ/bdvCijKJhdA/s640/Pings+over+time.png" width="640" /></a></div><br />What&#8217;s interesting about this chart is not that Excel makes it difficult to label your axes. &nbsp;Excel is a pain in the ass sometimes, there&#8217;s no revelation there.<br /><br />I&#8217;m looking for patterns here. &nbsp;With one ping per second, my timeouts occur for packets 91, 128, 158, 160, 171, 199, 214, 219, 259, 274, and 366. &nbsp;The ping spikes occurred at 91, 183, 274, and 366. &nbsp;Note that dropped packets don&#8217;t count, so the spike at packet 91 is really after the one failed attempt for packet 91. <br /><br />Well, there&#8217;s definitely a pattern in the ping spikes - I get pings of &gt;800ms every 90 seconds or so. &nbsp;So one problem is happening every minute and a half. &nbsp;The other problem starts after that first dropped packet, where I drop a packet every 10-20 seconds.<br /><br />The first culprit to suspect is always wireless interference, and sure enough, the vast majority of my neighbors are sharing channel 6 (2.437 Ghz range) with me. &nbsp;Here&#8217;s a handy chart I used to work out the best channel to avoid my neighbors&#8217; traffic.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_Ukp9db12h9g/TRFBGIzQE_I/AAAAAAAAAAU/1CSgfS9bANU/s1600/Wifi+channel_chart.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="377" src="http://2.bp.blogspot.com/_Ukp9db12h9g/TRFBGIzQE_I/AAAAAAAAAAU/1CSgfS9bANU/s640/Wifi+channel_chart.gif" width="640" /></a></div><br />Most of my neighbors are on 6 or 11, with a couple on 3. &nbsp;So I chose channel 1. &nbsp;This seemed to cut out a lot of the 10 second interval drops. &nbsp;Next I disabled the SPI firewall, to make sure I was minimizing the processing required for each packet. &nbsp;Here&#8217;s my ping graph after the change:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_Ukp9db12h9g/TRFEJRnfMmI/AAAAAAAAAAY/e0vQoZ-LT7w/s1600/pings+over+time+2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="462" src="http://2.bp.blogspot.com/_Ukp9db12h9g/TRFEJRnfMmI/AAAAAAAAAAY/e0vQoZ-LT7w/s640/pings+over+time+2.png" width="640" /></a></div><br /><br />As you can see, no more problem with dropped packets every 10-20 seconds, but I still get enormous ping spikes every 90 seconds, which resulted in only one dropped packet. &nbsp;Hey, it&#8217;s improvement! &nbsp;Another interesting element is that the ping spikes actually improved over time, while my average ping was significantly higher (23ms vs 19ms). &nbsp;I&#8217;m going with chance fluctuation on that one, I don&#8217;t have a good explanation for it. &nbsp;(note - I was using the web interface for the router at the time, and loaded up diagnostic pages for the two smaller spikes&#8230; so I&#8217;m not worried about them)<br /><br />So I had a look at DD-WRT&#8217;s own diagnostic pages, and noticed that the errors it was aware of were <b>all</b>&nbsp;transmit errors. The number one and two causes of transmit errors are too high ACK timing and too high transmit power. &nbsp;Dropping the ACK to 0 and setting transmit power to the (factory) 22mW didn&#8217;t help. <br /><br />So now I&#8217;m stuck. &nbsp;I definitely got some benefit here, though I&#8217;m not too happy that my average ping rose like that. &nbsp;But every 90 seconds SOMETHING happens that breaks my wireless connection. &nbsp;I&#8217;m going to puzzle over this for awhile.
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/12/dd-wrt-versioning-and-linksys-wrt54g.html">DD-WRT, Versioning, and the Linksys WRT54G Wireless Router</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2010-12-20T12:47:00+01:00" pubdate data-updated="true">Dec 20<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content">
<div class="css-full-post-content js-full-post-content">
I have had all sorts of trouble with the wireless situation in my apartment. &nbsp;The layout of the place is such that the kitchen sits in between the two major rooms (living room and bedroom), and I swear those kitchen walls must be made of lead. &nbsp;No wireless signal seems to get through. &nbsp;I have phone jacks for ADSL in the living room and bedroom, nothing in between.<div><br /></div><div>So I hooked up my Orange Livebox (with wifi) in one room, and my&nbsp;<a href="http://en.wikipedia.org/wiki/Linksys_WRT54G_series">Linksys WRT54G (v.4)</a>&nbsp;in the other, to act as a repeated wifi network. &nbsp;I was already using the badass <a href="http://www.dd-wrt.com/site/index">DD-WRT firmware</a>&nbsp;so I could use the Linksys router as a wifi adapter for my wired desktop (in serious terms, it was acting as a network bridge to a wired LAN, to which my desktop was connected). &nbsp;This effectively made my Linksys router into a repeater bridge, which is a pretty awesome piece of functionality for an 8 year old, $45 router. &nbsp;</div><div><br /></div><div>Except it didn&#8217;t work properly. &nbsp;I would get dropped packets, slowdown over long periods of uptime, and even skype wasn&#8217;t reliable over the connection. &nbsp;It got to the point where I would make sure I was sitting beside the &#8220;good&#8221; router to make Skype calls (an important part of my day job). &nbsp;</div><div><br /></div><div>So I turned off the linksys for awhile, and tried working with just the Orange Livebox as my wifi router. &nbsp;I still had the same problems - it turned out that the bad router was NOT the hacked one! &nbsp;So I tried it the other way around: I disabled wifi on my Livebox, and set up the Linksys as a simple wireless router.</div><div><br /></div><div>This was definitely better - it turned out that just the Linksys, when placed correctly, CAN get a decent wireless signal to the entire apartment. &nbsp;(In a few days I&#8217;m going to try modding the antennas to be more directional to see if that helps). &nbsp;But I still got connection drops! &nbsp;</div><div><br /></div><div>At least now it was a more regular pattern. &nbsp;Skype would be fine, but I would get about 1 second dropouts in audio every 30 seconds or so. &nbsp;Looking at my Skype &#8220;advanced call quality&#8221; window, I could see that Jitter was high, so I identified that as a possible culprit. &nbsp;I also noted that the connection quality was listed as &#8220;Local: Good; Remote: Bad.&#8221;</div><div><br /></div><div>Here is where I get on my soapbox. &nbsp;I CAN&#8217;T STAND &#8220;simplified,&#8221; &#8220;user-friendly&#8221; summaries that don&#8217;t offer more information. &nbsp;Remote: Bad. &nbsp;OK, I know there&#8217;s a problem with the remote network. &nbsp;But I was connected through two layers of firewall, through two layers of private IP - my wireless network, on the 10.10.10.x subnet, and my Orangebox LAN, on the 192.168.1.x subnet. &nbsp;Were both those subnets considered &#8220;Local&#8221;? &nbsp;Was it possible that the remote connection at fault was between Linksys and Livebox? &nbsp;Or is Remote: Bad because I&#8217;m conferencing with colleagues across the US, Canada, Cambodia, Australia, Slovakia, and Paris? &nbsp;I&#8217;m happy that Skype wants to simplify my troubleshooting, but &#8220;Remote: Bad&#8221; has to give more detail to be useful.</div><div><br /></div><div>Determined to fix the problem, I tried a ping test to my router. &nbsp;I found about a 2% packet loss, happening in chunks every 30 seconds or so. &nbsp;</div><div><br /></div><div>So I checked out the dd-wrt website. &nbsp;My router firmware was current, according to the&nbsp;<a href="http://www.dd-wrt.com/site/support/router-database">page for my model</a>&nbsp;in the Router Database linked from their front page. &nbsp;In this case, the database recommends firmware revision 13064, 10/10/09. &nbsp;So I started to browse the <a href="http://www.dd-wrt.com/phpBB2/">forums</a>. &nbsp;Right off the bat, I was guided to a couple of sticky posts at the top: the <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=51486">peacock thread</a>&nbsp;and the <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=52043">firmware recommendation</a> thread. &nbsp;They both indicated:</div><blockquote><i>&#8220;The router database has recommended some less stable builds, including SP1 and 13064 (10/10/09) build. I suggest using the builds that are recommended here or in Redhawk&#8217;s announcement above, rather than the ones in the router database. SP1 is full of bugs, and while 13064 is not nearly as bad, some are reporting connection issues fairly regularly. Sometimes the router database also has had the wrong build type. The router database is being worked on improve the recommendations.&#8221;</i></blockquote>and<br /><br /><blockquote><i>&#8220;The Database may recommend bad builds and you should look [in this forum post] for recommended builds that have proven to be stable from actual user testing.&#8221;</i></blockquote>In other words: the router database is full of known bad information, use the recommendations in the forums instead. &nbsp;Sometimes &#8220;recommended&#8221; builds even BRICK routers! &nbsp;In my case, the recommended firmware was known to cause connection issues, including dropped packets and disconnects. <br /><br />Maybe I&#8217;m being old-fashioned, but I think this is a <b>really bad</b>&nbsp;way to run an open source project website. &nbsp;It&#8217;s great to have a convenient, easy-to-use router database linked on the front page. &nbsp;Firmware decisions are difficult for most people, so this is a fantastic tool&#8230; if it&#8217;s properly maintained. &nbsp;&nbsp;If it isn&#8217;t, it&#8217;s just a very attractive, easy-to-use tool to tear your hair out.<br /><br />Imagine if Ubuntu&#8217;s apt repositories recommended packages that were known-incompatible with your hardware. &nbsp;Ubuntu would correct the system IMMEDIATELY, or bring it offline until they could. &nbsp;This was a major concern when distros started working with centralized package repositories, and open source organizations put a lot of effort into keeping these &#8220;recommended software&#8221; databases functional for 99% of users with every update. &nbsp;Hell, Redhat&#8217;s CentOS is so conservative about updates, some common packages are YEARS behind! <br /><br />The lesson here, is that a software recommendation database has to recommend WORKING software to be useful. &nbsp;And the DD-WRT firmware database is not. &nbsp;This makes it worse than useless - it makes it misleading, and potentially damaging to your hardware.<br /><br />I&#8217;m not a complete dick though - I understand. &nbsp;It&#8217;s clear the DD-WRT team put a lot of effort into their recommendation database. &nbsp;With a few updates to the back end to simplify the process of keeping it up to date, maybe their volunteers would have an easier time of it. &nbsp;As I said, it&#8217;s a fantastic tool. &nbsp;There&#8217;s no need to abandon it&#8230;. just a few more tweaks or another round of updates and it could be perfect!<br /><br />But while they organize these tweaks or updates, the DD-WRT team should put up a prominent disclaimer. &nbsp;It&#8217;s not complicated to add a line to the front page, right below the firmware recommendation link. &nbsp;Just one line that says &#8220;This information may not be current. &nbsp;Please check the forum before selecting your firmware!&#8221; &nbsp;If you put the line on the recommendation page template, you can go even further and actually link to the forum page for the user&#8217;s model. &nbsp;There are seven chipset families supported by DD-WRT - that&#8217;s only seven URL possibilities to deal with. &nbsp;Give the users a chance to find the correct information before they brick their routers or give up on open source firmware entirely. <br /><br />Apparently the DD-WRT wiki has more up to date information per router model. &nbsp;You could just as easily link there instead of the router database. &nbsp;Or connect the two, so the router database shows you the wiki page for your model along with the summary information. &nbsp;There are lots of technical solutions we could implement here, but the bottom line is, WARN YOUR USERS if the information in your software recommendation database is out of date, apocryphal, or inaccurate. <br /><br />Oh, and for my Linksys WRT54G v.4? &nbsp;The appropriate firmware to use is linked from the (sticky) <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=52043">Broadcom recommendations</a> forum post: <a href="ftp://dd-wrt.com/others/eko/BrainSlayer-V24-preSP2/08-12-10-r14929/broadcom/">Brainslayer build 14929</a>&nbsp;. &nbsp;This is only a best firmware for my specific model, though - if you have another Broadcom-based router, or even another WRT54G model, <b>read that forum post.</b>&nbsp;&nbsp;It will help you pick the right firmware for your router, unlike the router recommendation database and this blog post.<br /><br />Yet another evening lost to cursing at computers.
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/12/how-to-jailbreak-and-unlock-iphone-3gs.html">How to Jailbreak and Unlock iPhone 3GS IOS 4.2.1, Old Baseband</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2010-12-20T01:32:00+01:00" pubdate data-updated="true">Dec 20<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content">
<div class="css-full-post-content js-full-post-content">
After <a href="http://swearingatcomputers.blogspot.com/2010/12/unlocking-and-jailbreaking-my-iphone.html">wasting my evening</a> working out a jailbreak/unlock for an old version of IOS, I discovered a side note in a <a href="http://blog.iphone-dev.org/post/1718400992/ultra-recycle">devteam blog update</a>&nbsp;that gave me clues on how to jailbreak and unlock my phones for the latest version of IOS. &nbsp;So I spent another evening working on that. <br /><br />I haven&#8217;t seen complete instructions anywhere yet, so here they are. &nbsp;How to update your iPhone 3GS to 4.2.1, jailbreak, and unlock it for multiple carriers. &nbsp;(for Mac)<br /><br /><br /><ol><li>Download the IOS 4.2.1 firmware, either over P2P or using iTunes. &nbsp;To download using iTunes, accept it&#8217;s prompt to get the latest firmware, but &#8220;download only.&#8221; &nbsp;This firmware file will be called&nbsp;iPhone2,1_4.2.1_8C148a_Restore.ipsw , and you can find it using your computer&#8217;s find utility. &nbsp;On a Mac, it will be in ~/Library/iTunes/iPhone Software Updates &nbsp;(~ is shorthand for your home folder. Click the blue happy face in the bar on the bottom of your screen if you are confused).</li><li>Download and install the latest version of <a href="http://blog.iphone-dev.org/post/1359246784/20102010-event">Pwnagetool</a>&nbsp;(4.1 as of this writing) from the <a href="http://blog.iphone-dev.org/post/1718400992/ultra-recycle">devteam blog</a>&nbsp;.&nbsp;</li><li>Pwnagetool does not yet have a framework for working with the 4.2.1 firmware. &nbsp;To add that framework, first download it from <a href="http://iphwn.org/advanced/iPhone2,1_4.2.1_8C148a.bundle.zip">iphwn.org</a>. &nbsp; Extract this file to get a .bundle , which is what pwnagetool needs to work with this IOS version.&nbsp;</li><li>Right click on your pwnagetool &#8220;app&#8221; in OSX and choose &#8220;Show Package Contents.&#8221; &nbsp;Look in Contents &gt; Resources &gt; FirmwareBundles . &nbsp;See all those .bundle files, named for each version of IOS? &nbsp;That&#8217;s where you should put the 4.2.1 .bundle you just downloaded.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_Ukp9db12h9g/TQ6txreow-I/AAAAAAAAAAM/EEqzeqHYQ2k/s1600/Screen+shot+2010-12-20+at+2.13.13+AM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="264" src="http://4.bp.blogspot.com/_Ukp9db12h9g/TQ6txreow-I/AAAAAAAAAAM/EEqzeqHYQ2k/s320/Screen+shot+2010-12-20+at+2.13.13+AM.png" width="320" /></a></div></li><li>Now start up Pwnagetool, select &#8220;expert&#8221; mode, and browse for your vanilla 4.2.1 firmware that you downloaded from iTunes. &nbsp;Before compiling your custom firmware, hit the button for &#8220;General&#8221; options, and uncheck the box for &#8220;activate.&#8221; &nbsp;Sorry, activation has to be done in a separate step. &nbsp;Now go ahead and build that custom firmware!</li><li>Follow Pwnagetool&#8217;s instructions to get your iphone into DFU mode, and then use iTunes to restore to your custom firmware. &nbsp;If you haven&#8217;t done this before, you have to Option+click the &#8220;restore&#8221; button, then browse to the new custom firmware, which should be named something like iPhone2,1_4.2.1_8C148a_Custom_Restore.ipsw . <br /><br />Some of you may ask, but if we aren&#8217;t activating via Pwnagetool, then what&#8217;s the difference? &nbsp;The custom firmware only includes the 4.2.1 SYSTEM. &nbsp;It doesn&#8217;t include the new, hack-proof baseband. &nbsp;The baseband is the part of your phone that actually communicates with the cellular network. &nbsp;Think of it like your modem firmware, it&#8217;s pretty close.&nbsp;</li><li>Now you have to activate your phone! &nbsp;Download and install the latest version of <a href="http://wikee.iphwn.org/howto:rs9#download_links">Redsn0w</a>. &nbsp;I found the devteam link was broken, so I got it from <a href="http://www.iphoneworld.ca/news/2010/12/04/download-redsn0w-0-9-6b6-iphone-jailbreak-now-with-sam-support-windows-mac/">here</a>.</li><li>Run Redsn0w. &nbsp;When it asks you for your firmware ipsw, browse to the VANILLA version of 4.2.1 that you got through iTunes. &nbsp;Make sure you check the box for &#8220;Install Cydia&#8221; when prompted, and follow the instructions closely! &nbsp;This will activate your phone. &nbsp;Now all we have to do is unlock!</li><li>On your iphone, connect to a wireless network and start the Cydia application. &nbsp;Go to the &#8220;Manage&#8221; tab along the bottom, and tap the big &#8220;Sources&#8221; button. &nbsp;Add a new source, at URL http://repo666.ultrasn0w.com . &nbsp;Now go to the search tab, and search for ultrasn0w. &nbsp;Install it, and restart your iphone.</li></ol><div>Voila! &nbsp;One bona fide, jailbroken, unlocked, activated iphone 3GS on 4.2.1! &nbsp;Now, don&#8217;t come crying to me when your battery starts running down.</div>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/12/i-baked-computer-and-it-worked.html">I Baked a Computer (and It Worked!)</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2010-12-20T00:57:00+01:00" pubdate data-updated="true">Dec 20<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content">
<div class="css-full-post-content js-full-post-content">
This weekend a friend asked me to have a look at his <a href="http://forum.notebookreview.com/hp-compaq/152879-hp-dv9500.html">HP DV9500</a> laptop. &nbsp;It was having trouble - when you turned it on, the screen showed nothing but a solid grey with a few thin black bars. &nbsp;The grey increased in intensity as the system ran, until it ran off the colors that the display knew how to show.<br /><br />Clearly, there was a problem with the video card.<br /><br />I tried plugging it into an external monitor, and lo and behold, the system was actually booting fine! &nbsp;Just the video card had lost the ability to send a coherent signal to the built-in screen. &nbsp;I thought this might be a problem with the connection inside the laptop body, but then my friend explained what HP had told him.<br /><br /><a href="http://h30434.www3.hp.com/t5/Display-and-video/hp-dv9500-screen-problem/m-p/37120">This was a factory defect</a>. &nbsp;DV9500 laptops that shipped with the <a href="http://www.nvidia.com/page/geforce8.html">NVIDIA 8600GS</a> video card tend to run into the mysterious &#8220;grey screen with black bars&#8221; problem about 2 years in. &nbsp;Oddly enough, 2 years is the limit on the standard HP warranty. &nbsp;People within warranty have the laptop replaced for free. &nbsp;For people outside of warranty, it costs 570€. &nbsp;My friend was in the latter, SOL category.<br /><br />So I looked into the problem a little bit deeper. According to my google search, the problem is actually that the solder joints between the GPU and the motherboard use a kind of solder that doesn&#8217;t stand up to high temperatures very well. &nbsp;High temperatures like those that might be generated in a compact body laptop with a powerful GPU in it! &nbsp;<a href="http://h30434.www3.hp.com/t5/Display-and-video/hp-dv9500-screen-problem/m-p/190057">The solder balls up or cracks</a>, making the GPU prone to failure. &nbsp;So to fix the problem all you have to do is re-solder all the connections between the GPU and the motherboard, ideally using a kind of solder that handles high temperatures better or forcing the GPU fan to run faster. &nbsp;Easy, right? &nbsp; Hahahahaha no.<br /><br />One forum user suggested a solution, I think in jest: just <a href="http://h30434.www3.hp.com/t5/Hardware/Pavillion-dv9500-WON-T-START/td-p/194528">put the motherboard in the oven</a>! &nbsp;The heat will melt the solder, and it will fill in any cracks. &nbsp;But people tried it, and reported that it worked for them. &nbsp;So with nothing to lose, we tried the same.<br /><br />Easier said than done - of all the laptops I&#8217;ve disassembled, the DV9500 has got to be the worst. &nbsp;22 screws for the underside exterior alone, and 3 more layers to get through after that! &nbsp;Probably about 75 screws to keep track of in the end. &nbsp;Plus you have to peel off all the anti-static plastic they&#8217;ve got glued to the motherboard, and remember where all THAT goes&#8230; I found this<a href="http://www.youtube.com/watch?v=z8CGafMQaq4"> disassembly video for a similar model</a> to be very helpful in reminding me where all the screws and plastic went when it came time to piece it back together.<br /><br />Here are your steps to baking a repaired HP DV9500/NVIDIA 8600GS:<br /><br /><ol><li>Get the motherboard out of the case. &nbsp;We want <b>just the motherboard</b>, with no plastic, screws, or additional parts. This is a pain in the ass. &nbsp;As you remove the screws, lay them out on a flat surface in some semblance of their layout on the actual laptop. &nbsp;Don&#8217;t be afraid to a map for each layer - there are a LOT of screws on this guy, and you don&#8217;t want to forget what goes where!&nbsp;</li><li>Pre-heat your oven to 175-200 degrees Celsius (350-390 degrees Fahrenheit).</li><li>Ball up 4 pieces of tin foil into cone shapes, and place them on a baking sheet. &nbsp;Place the pointy end of the cones on screw points on the motherboard. &nbsp;This is because screw points are lined and electrically insulated from the rest of the mobo - we don&#8217;t want any solder dripping down!</li><li>Put the motherboard in the oven for 6-8 minutes. Set a timer. &nbsp;You will smell burning plastic after about 3 minutes - don&#8217;t worry.</li><li>Remove the motherboard, and set it out to cool for 30 minutes. &nbsp;I put mine outside in the winter air for 10 minutes, same effect. :)</li><li>Piece your laptop back together, and hope!</li></ol><div>It took me 45 minutes to piece the laptop back together, cursing the whole time. &nbsp;But when I finally turned it on, and the screen WORKED&#8230; I couldn&#8217;t believe it. &nbsp;My friend started jumping up and down, I beamed like an idiot, and his shy, reserved wife gave me a kiss. &nbsp;I was a hero, for baking their computer.</div><div><br /></div><div>This is one of the most bizarre tricks I&#8217;ve ever used to fix a computer, and I just had to share.&nbsp;</div>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/12/unlocking-and-jailbreaking-my-iphone.html">Unlocking and Jailbreaking My iPhone 3gs on 4.1.2 - a Little Late</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2010-12-18T02:02:00+01:00" pubdate data-updated="true">Dec 18<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content">
<div class="css-full-post-content js-full-post-content">
While I was away over the weekend, I borked my iphone. &nbsp;I was running IOS 4.0, and I was having trouble with network connections.<br /><ul><li>The statusbar wouldn&#8217;t reflect my actual connection status. &nbsp;WiFi connections would rarely show up in the statusbar, though I knew I was surfing wirelessly (my router at 10.10.10.1 was accessible to the phone, for starters&#8230;)</li><li>WiFi would periodically crash. &nbsp;In the middle of a good network connection, it would just. stop. working. &nbsp;I could go to System Preferences and see that WiFi was inexplicably disabled. &nbsp;If I tried to enable it, the switch animation would work, but no networks would be visible. &nbsp;Exiting and re-entering System Preferences would show WiFi disabled again.</li><li>Periodically all networking would crap out. &nbsp;The statusbar would show a good 3G connection, and ifconfig would show an IP&#8230; but the phone couldn&#8217;t establish any connections, anywhere. &nbsp;</li></ul><div>Only rebooting ever solved any of the above problems. &nbsp;So this weekend I started to look into it, and it occurred to me that maybe SBSettings was interfering with networking - I periodically disable or enable Wifi in SBSettings, and it occurred to me that maybe there was a conflict there. &nbsp;So I uninstalled SBSettings, (noting that it unnecessarily included iphone zsrelay in the uninstall)&#8230;</div><div><br /></div><div>And my phone stopped getting signal. &nbsp;I had never seen anything like it before. &nbsp;It didn&#8217;t show an operator, just 0 signal bars. &nbsp;It could get wifi, but couldn&#8217;t access the Internet over it. &nbsp;In retrospect, I think the SBSettings uninstall borked my yellowsn0w unlock, and at the same time my networking subsystem in general wasn&#8217;t working. &nbsp;</div><div><br /></div><div>The solution was clear - I had to reinstall. &nbsp;I figured I would do an update at the same time, just in case the networking issue was related. &nbsp;So I spent this evening painfully updating to 4.1.2. &nbsp;For anyone who encounters the same kind of pain I did:</div><div><br /></div><div><ul><li>Don&#8217;t bother with the latest Apple firmware. &nbsp;Firmware 4.2.1 is not easily crackable for the iphone 3gs yet, and besides, <a href="http://www.iclarified.com/entry/index.php?enid=12944">the most common way</a> to crack is to install the baseband from the iPad (06.15), which brings&nbsp;all sorts of problems, including broken GPS and disappearing battery charge&#8230;. deal breakers for most people IMO. &nbsp;</li><li>But when you try to install a non-current version of the firmware, iTunes won&#8217;t let you! &nbsp;It phones home to the iTunes update servers to make sure that you are restoring to the most recent version. &nbsp;If it hears back that there is a MORE RECENT version than what you are trying to use, it will throw a message:</li></ul><blockquote><i>This device is not eligible for the requested build</i></blockquote><ul><li>If you use the older hack, and change your /etc/hosts so that gs.apple.com points to 127.0.0.1 (your own computer), it will complain that the update server is not responding, and refuse to go forward. &nbsp;This check involves an exchange of an encrypted key, which uses your unique iPhone&#8217;s ID as one variable and Apple&#8217;s passphrase as another. &nbsp;<a href="http://www.saurik.com/id/12">Saurik (of Cydia fame) set up a server</a>&nbsp;(note: really awesome post, recommended reading) to keep a backup of examples of successful SHSH key &#8220;handshakes&#8221; for each device, so you have to use the IP of this server instead.<br /></li></ul><br /></div>So here are the steps I had to follow, for reference:<br /><br /><ol><li>Download the 4.1.2 .ipsw for your iphone. &nbsp;I found it on binsearch by searching iPhone2,1_4.1_8B117_Restore.ipsw .</li><li>Download PwnageTool - get it from the torrent or the links on the official <a href="http://blog.iphone-dev.org/">devteam blog</a> site only! Everyone else is at best a scammer, or at worst a hack stealing the product of devteam&#8217;s hard work.</li><li>Use <a href="http://blog.iphone-dev.org/post/1359246784/20102010-event">pwnagetool</a> to build yourself a custom version of the 4.1.2 firmware you just downloaded.</li><li>To foil Apple&#8217;s update server check, add a line to etc/hosts pointing gs.apple.com to&nbsp;74.208.10.249 , Saurik&#8217;s SHSH backup IP as of this writing. <br />If you have used Cydia before (and clicked the &#8220;make my life easier&#8221; button), this will be enough to get the restore going. &nbsp;If not, even a failed check of your validity for the firmware involves a key exchange, and having this IP in /etc/hosts will make sure that the SHSH key gets uploaded to Saurik&#8217;s server. &nbsp;Give it about a day, and try again. &nbsp;Did I remember to link to Saurik&#8217;s<a href="http://www.saurik.com/id/12"> really interesting blog post</a> about this? It explains a lot. &nbsp;If that doesn&#8217;t help, try the <a href="http://thefirmwareumbrella.blogspot.com/">TinyUmbrella tool</a>.</li><li>When your custom .ipsw is written, put your iphone into DFU mode, open iTunes, and OPTION-click (for Macs) on the Restore link to select your custom firmware.</li><li>When your phone is restored and working, use Cydia to install ultrasn0w (the unlock).</li></ol>This took up MUCH to much of my evening. &nbsp;Once again, I found myself exercising creativity in swearing at computers.
</div>

</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/6/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>A little something about me.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/02/11/a-year-between-the-cracks-of-decoupled-drupal/">Between the Cracks of Decoupled (Drupal) Architecture</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/11/05/writing-drupal-8-code-for-drupal-7/">Writing Drupal 8 Code for Drupal 7</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/31/developer-options-for-replacing-your-old-macbook-pro/">Developer Options for Replacing Your Old MacBook Pro</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/15/perfect-linux-mint-macbook-pro-9-2/">Perfect Linux Mint on My Macbook Pro 9,2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/13/getting-my-notes-out-of-evernote/">Getting My Notes Out of Evernote</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/ohthehugemanatee">@ohthehugemanatee</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ohthehugemanatee',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section>
<a class="twitter-timeline"  href="https://twitter.com/campbellvertesi"  data-widget-id="407927984901746688">Tweets by @campbellvertesi</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

    </section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - Campbell Vertesi (ohthehugemanatee) -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ohthehugemanatee';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
