
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Heat Issues on My XBMC Mediacenter - Oh The Huge Manatee</title>
  <meta name="author" content="Campbell Vertesi (ohthehugemanatee)">

  
  <meta name="description" content="I run an XBMC mediacenter at home, on my old Compaq C765 laptop (the laptop I used to use as a Hackintosh, until I got a real Mac). &nbsp;I say it&# &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ohthehugemanatee.github.io/2011/01/heat-issues-on-my-xbmc-mediacenter.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Oh The Huge Manatee" type="application/atom+xml">
  <link href="/stylesheets/table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="/stylesheets/fonts/prstartk/stylesheet.css" type="text/css" charset="utf-8" />

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46172182-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
<a href="/"><img src="/images/oh_the_huge_manatee.png" /></a><div class="titles"><h1><a href="/">Oh The Huge Manatee</a></h1>
  
    <h2>Drupal, Sysadminning, and Tech.</h2>
  
</div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.duckduckgo.com/" method="get">
  <fieldset role="search">
    <input type="hidden" name="sites" value="ohthehugemanatee.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search&hellip;"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about-me.html">Me</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Heat Issues on My XBMC Mediacenter</h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2011-01-21T21:47:00+01:00" pubdate data-updated="true">Jan 21<span>st</span>, 2011</time>
        
      </p>
    
  </header>


<div class="entry-content">
<div class="css-full-post-content js-full-post-content">
I run an XBMC mediacenter at home, on my old Compaq C765 laptop (the laptop I used to use as a Hackintosh, until I got a real Mac). &nbsp;I say it&#8217;s old, but it&#8217;s perfectly well powered:<br /><br /><ul><li>2.1ghz Intel Core 2 Duo</li><li>2gb RAM</li><li>Intel GMA X3100 &#8220;graphics&#8221; adapter</li></ul><div>Apart from the X3100, it&#8217;s a perfectly good little computer, and perfect for a media center. &nbsp;XBMC is super easy to install - just install Ubuntu as you normally would, and install the XBMC package using your favorite package manager (&#8220;apt-get install xbmc&#8221; will do it).</div><div><br /></div><div>What&#8217;s great about XBMC is that all the configuration is through the TV graphical interface. &nbsp;No pain in the ass backend to configure (I&#8217;m looking at YOU MythTV), it just works. &nbsp;I like that. &nbsp;</div><div><br /></div><div>The real pain in the ass though, came when I wanted to play HD movies. &nbsp;The whole point of having a mediacenter is to keep all your movies and TV shows on a hard drive, so I ripped a couple of my favorite Planet Earth episodes in HD, and gave it a shot. &nbsp;Unfortunately, Ubuntu&#8217;s built in HD video decoder (libavcodec/ffdshow/ffmpeg) requires too much power for my little mediacenter. &nbsp;I couldn&#8217;t get through the intro without seeing significant lag behind the audio,and ultimately tons of dropped frames.</div><div><br /></div><div>On Windows, the solution is simple - get a commercial HD decoder software package. &nbsp;CoreAVC has a reputation as the best in the business. &nbsp;This is partly because it&#8217;s multi-threaded, and partly just because it&#8217;s so well written! &nbsp;Most people see at least a 30% gain in their framerates with this decoder.</div><div><br /></div><div>As I mentioned though, it&#8217;s commercial. I don&#8217;t like paying for software on a gamble, so I tried downloading the 14 day trial to play with at first. &nbsp;These instructions should work with the trial&#8230; I just ran a few benchmarks on one of my other systems, and was satisfied enough to pony up the $15. &nbsp;Here are the steps I followed (For Ubuntu 9.10)</div><div><br /></div><div><ol><li>Install the tools you need to build mplayer over again, and to build coreavc-for-linux:<br /><blockquote>sudo apt-get install subversion build-essential xorg-dev pkg-config gcc-4.3 wine</blockquote>(honestly you shouldn&#8217;t need to explicitly install gcc-4.3 unless you upgraded from karmic like I did - badly)</li><li>Make a directory to work in, and download the sources you need:<br /><blockquote>mkdir ~/cursing</blockquote><blockquote>cd ~cursing</blockquote><blockquote>svn checkout svn://svn.mplayerhq.hu/mplayer/trunk mplayer</blockquote><blockquote>svn checkout http://coreavc-for-linux.googlecode.com/svn/trunk/ coreavc-for-linux&nbsp;</blockquote>Also download CoreAVC! &nbsp;As I mentioned, I only ever tried this with the registered version, but there&#8217;s no reason you shouldn&#8217;t be able to do it with the shareware version as well.&nbsp;</li><li>Install CoreAVC using WINE (you don&#8217;t run it using WINE, but you do have to install it to pull out the library!)<br /><blockquote>wine &#8220;~/Desktop/CoreAVC Professional Edition-x.x.x_Setup.exe&#8221;</blockquote>This is where you get to enter your serial number, or deal with the demo. &nbsp;The installer will work just like a windows installer, because Wine is just that badass.</li><li>Install DShowServer:<br /><blockquote>cd dshowserver/precompiled</blockquote><blockquote>make install</blockquote></li><li>Copy your freshly installed CoreAVC library into the dshowserver directory so it&#8217;s easy to find:<br /><blockquote>sudo cp &#8220;~/.wine/drive_c/Program Files/CoreCodec/CoreAVC Professional Edition/CoreAVCDecoder.ax&#8221; /usr/local/share/dshowserver&nbsp;</blockquote></li></ol>At this point you should take a break. &nbsp;Hey, that was a lot of work! &nbsp;Get a coffee, put on some music or something. &nbsp;And you can feel good about the progress you made! &nbsp;Look at that, dshowserver can find and load CoreAVC: &nbsp;</div><div><blockquote>dshowserver -c CoreAVCDecoder.ax</blockquote><blockquote><span class="Apple-style-span" style="font-family: arial, sans-serif; font-size: 13px;"><pre class="prettyprint" style="border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 3px; font-size: 12px; margin-left: 2em; padding-bottom: 0.5em; padding-left: 0.5em; padding-right: 0.5em; padding-top: 0.5em;"><span class="typ">No</span><span class="pln"> id specified</span><span class="pun">,</span><span class="pln"> assuming test mode</span><span class="typ">Opening</span><span class="pln"> device<br />len</span><span class="pun">:</span><span class="pln"> </span><span class="lit">992</span><span class="pln"><br /></span><span class="typ">ProductVersion</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2.0</span><span class="pun">.</span><span class="lit">0</span><span class="pln"><br /></span><span class="typ">Decoder</span><span class="pln"> supports the following YUV formats</span><span class="pun">:</span><span class="pln"> YUY2 UYVY YV12 I420 </span><span class="typ">Decoder</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> capable of YUV output </span><span class="pun">(</span><span class="pln">flags </span><span class="lit">0x2b</span><span class="pun">)</span><span class="pln"><br /></span><span class="typ">Setting</span><span class="pln"> fmt</span><span class="typ">Starting</span><span class="pln"><br /></span><span class="typ">Initialization</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> complete</span></pre></span></blockquote></div><div>That&#8217;s like half the battle, right there! &nbsp;</div><div><br /></div><div>Now that your legs are stretched, let&#8217;s get mplayer using this new shiny codec.</div><div><br /></div><div><ol><li>Mplayer out of the box doesn&#8217;t support dshowserver, so we have to patch the source a little:<br /><br /><blockquote>cd mplayer-source-dir&nbsp;</blockquote><blockquote>patch -p0 &lt; ../coreavc-for-linux-source-dir/mplayer/dshowserver.patch</blockquote></li><li>Compile and install mplayer from this patched source:<br /><blockquote>make &amp;&amp; make install</blockquote></li><li>Now you just have to add the new codec to your ~/.mplayer/codecs.conf and you&#8217;re away to the races! &nbsp;Add these lines to the end of codecs.conf :</li></ol><blockquote>videocodec coreserve info &#8220;CoreAVC DShow H264 decoder x.x for x86 - http://corecodec.org/&#8221;</blockquote><blockquote>&nbsp;&nbsp;status working</blockquote><blockquote>&nbsp;&nbsp;format 0x10000005</blockquote><blockquote>&nbsp;&nbsp;fourcc H264,h264 H264</blockquote><blockquote>&nbsp;&nbsp;fourcc X264,x264</blockquote><blockquote>&nbsp;&nbsp;fourcc avc1,AVC1 AVC1</blockquote><blockquote>&nbsp;&nbsp;fourcc davc,DAVC</blockquote><blockquote>&nbsp;&nbsp;fourcc VSSH</blockquote><blockquote>&nbsp;&nbsp;driver dshowserver</blockquote><blockquote>&nbsp;&nbsp;dll &#8220;CoreAVCDecoder.ax&#8221;</blockquote><blockquote>&nbsp;&nbsp;guid 0x09571a4b, 0xf1fe, 0x4c60, 0x97, 0x60, 0xde, 0x6d, 0x31, 0x0c, 0x7c, 0x31</blockquote><blockquote>&nbsp;&nbsp;out YV12,IYUV,I420,YUY2</blockquote></div><div><br />You do have to explicitly tell mplayer to use this codec on launch - use<br /><blockquote>mplayer -vc coreserve</blockquote>To get it to start. &nbsp;Have fun! &nbsp;My little lappy runs great, smooth HD video!<br /><br /></div>
</div>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Campbell Vertesi (ohthehugemanatee)</span></span>

      








  



  
<time datetime="2011-01-21T21:47:44+01:00" class="updated">Updated Jan 21<span>st</span>, 2011</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://ohthehugemanatee.github.io/2011/01/heat-issues-on-my-xbmc-mediacenter.html" data-via="campbellvertesi" data-counturl="http://ohthehugemanatee.github.io/2011/01/heat-issues-on-my-xbmc-mediacenter.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2010/12/net-neutrality-and-steve-wozniak.html" title="Previous Post: Net Neutrality and Steve Wozniak">&laquo; Net Neutrality and Steve Wozniak</a>
      
      
        <a class="basic-alignment right" href="/2011/03/still-more-wireless-troubleshooting.html" title="Next Post: Still more wireless troubleshooting">Still more wireless troubleshooting &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
<h1>About</h1>
<p>My name is <a href="http://campbell.vertesi.com/">Campbell Vertesi</a>, and I&rsquo;m an <a href="http://thecastmusic.com/">opera singer</a> and a web developer. I&rsquo;ve been a <a href="https://drupal.org">Drupal</a>ist for 11 years, and I presently work as a Drupal Architect for <a href="https://amazeelabs.com" title="Amazee Labs">Amazee Labs</a>, where I get to work on some of the most cutting edge projects with brilliant people.

<p>This is a technical blog that&rsquo;s partly a reference for myself, partly a pointer for all the instructions I end up writing for others, and partly a document of my technical history. I&rsquo;m someone who is involved in a lot of different fields and specialties, and it&rsquo;s nice to have it all catalogued somewhere. I&rsquo;ve written this blog on various platforms under different names (swearingatcomputers, mostly), but this is where I&rsquo;m hoping it will stay for awhile.</p>

<p>I&rsquo;m not responsible for any damage caused to yourself, your family, your friends, your pets, or anything else as the result of using this information. Be smart and be careful.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/11/05/writing-drupal-8-code-for-drupal-7/">Writing Drupal 8 Code for Drupal 7</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/31/developer-options-for-replacing-your-old-macbook-pro/">Developer Options for Replacing Your Old MacBook Pro</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/15/perfect-linux-mint-macbook-pro-9-2/">Perfect Linux Mint on My Macbook Pro 9,2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/13/getting-my-notes-out-of-evernote/">Getting My Notes Out of Evernote</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/29/moving-to-amazee-labs/">Moving to Amazee Labs</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/ohthehugemanatee">@ohthehugemanatee</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ohthehugemanatee',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section>
<a class="twitter-timeline"  href="https://twitter.com/campbellvertesi"  data-widget-id="407927984901746688">Tweets by @campbellvertesi</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

    </section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Campbell Vertesi (ohthehugemanatee) -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ohthehugemanatee';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://ohthehugemanatee.github.io/2011/01/heat-issues-on-my-xbmc-mediacenter.html';
        var disqus_url = 'http://ohthehugemanatee.github.io/2011/01/heat-issues-on-my-xbmc-mediacenter.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
